#!/bin/bash

# ─ Copyright Notice ───────────────────────────────────────────────────
#
# Copyright 2000-2023 Hans Deragon - GPL 3.0 licence.
#
# Hans Deragon (hans@deragon.biz) owns the copyright of this work.
#
# It is released under the GPL 3 licence which can be found at:
#
#     https://www.gnu.org/licenses/gpl-3.0.en.html
#
# ─────────────────────────────────────────────────── Copyright Notice ─

if [ -z "$1" -o "$1" == "-h" -o -z "${2}" ]; then
  cat <<EOM
hd-sgrep '<egrep pattern>' '<bash file pattern>'

Exemple:

  hd-sgrep 'ThisClass' '*.java'
EOM
  exit 255
fi

GREPARG="$1"
FILEPATTERN="$2"

find . -name "${FILEPATTERN}" -print0 | xargs --null egrep -i --with-filename "${GREPARG}"
